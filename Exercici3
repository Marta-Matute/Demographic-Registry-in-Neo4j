//a) Estudi de les components connexes (cc) i de l’estructura de les component en funció de la seva mida.
// Amb nodeSimilarity compara un grup de nodes basat amb els nodes que estan connectats. 2 nodes es consideren similars si comparteixen veins.
//Es calcula la similaritat basant-se en la mètrica Jaccard

//Mirem la similaritat entre les persones depenent d'on viuen, per saber
CALL gds.graph.project('graph_3', ['PERSONA', 'HABITATGE'], 'VIU')
CALL gds.nodeSimilarity.mutate('graph_3', {   
  mutateRelationshipType: 'SIMILAR',                        
  mutateProperty: 'score'})
  
  //Amb la següent query es miren les relacions entre persones.
  CALL gds.graph.project('graph_2', ['PERSONA'], 'SAME_AS')
  CALL gds.graph.streamRelationshipProperty(
  'graph_2',                  
  'score'                                   
)
YIELD
  sourceNodeId, targetNodeId, relationshipType, propertyValue
RETURN
  gds.util.asNode(sourceNodeId).Nom as source, gds.util.asNode(targetNodeId).Nom as target, relationshipType, propertyValue
ORDER BY source ASC, target ASC


https://neo4j.com/docs/graph-data-science/current/graph-catalog-relationship-ops/
